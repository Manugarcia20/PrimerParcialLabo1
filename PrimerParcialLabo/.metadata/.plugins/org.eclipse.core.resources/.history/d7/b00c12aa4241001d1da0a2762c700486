/*
 * funciones.c
 *
 *  Created on: 1 oct. 2022
 *      Author: manu
 */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "input.h"


void CargarPrecio(float *precio, char mensaje[], char mensajeError[]) {
		char auxPrecio[51];

		printf("%s", mensaje);
		scanf("%s", auxPrecio);

		while (!(esNumericoFlotante(auxPrecio))) {
			printf("%s", mensajeError);
			scanf("%s", auxPrecio);
		}

		*precio = atof(auxPrecio);

	}

int MostrarUnPasajero(eLibro libro, eAutor autores[],eEditorial editoriales[], int tamL, int tamA){
		int isOk = 0;
		char descAutor[20];
		char descEditorial[20];

		if(autores != NULL && tamL > 0)
		{
		CargarDescripcionTipo(autores, tamL, libro.idAutor, descAutor);
		CargarDescripcionEditorial(editoriales,tamL, libro.idEditorial, descEditorial);

		printf("\n%d          %s      %d/%d/%d     %.2f         %s	    %s        \n",    libro.idLibro,
															 	     libro.titulo,
																	 libro.fecha.dia,
																	 libro.fecha.mes,
																	 libro.fecha.anio,
																  	 libro.importe,
																	 descAutor,
																	 descEditorial
																  );

		isOk = 1;
		}
		return isOk;
	}

int MostrarListaLibros(eLibro libros[], int tamL, eAutor autores[], int tamA, eEditorial editoriales[], int tamE) {

	int i;
	int isOK = 0;

	if (libros != NULL && tamL > 0) {

		printf("---------------------------------------------------------------------------------------------------------\n");
		printf("\n		*** LISTA DE LIBROS ***		\n");
		printf("--------------------------------------------------------------------------------------------------------\n");
		printf("ID		TITULO	 FECHA DE PUBLICACION	PRECIO	 AUTOR  NACIONALIDAD  	EDITORIAL	\n");
		printf("---------------------------------------------------------------------------------------------------------\n");

		for (i = 0; i < tamL; i++) {
			if (listaPasajeros[i].isEmpty == OCUPADO) {
				MostrarUnPasajero(listaPasajeros[i],tipoPasajero,estadoVuelo,tamTipo, tamEstado);
			}
			isOK = 1;
		}
	}

	return isOK;
}





